# from coincurve import PublicKey

zero_and_one = "10010110101101010011100011101000010100110101000110011100011100100110101000101100100100011110011000011110110000010001011000000000101011100001001110010000100000010011101001100010011111000110011011111011100010111110011110010100011110111110011000111100010100101101101001110101100010010011011110010101000101011101010011100000101001100000010011111000000101000001011110000001111001100010001010010100011100100001000101100110101111110110001000011110011100111010100000101100101111110010001101000010110010000101100011101110"

G_x = 0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798
gx2 = 0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798

forpub = 0x1e6f999fbe772eeb156818a573a1c2c1c0a6ff36cb738a36567ca056c5be05e600000000000000000000000000000000000000000000000000000000000000000
original_pub = 0x94b9d3e76c5b1629ecf97fff95d7a4bbdac87cc26099ada28066c6ff1eb9191223cd897194a08d0c2726c5747f1db49e8cf90e75dc3e3550ae9b30086f3cd5aa

N = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141

pub = "0494b9d3e76c5b1629ecf97fff95d7a4bbdac87cc26099ada28066c6ff1eb9191223cd897194a08d0c2726c5747f1db49e8cf90e75dc3e3550ae9b30086f3cd5aa"

# G_x_one = (G_x + G_x)
# G_x_zero = (G_x + G_x)

int_pub = int(pub[2:66], 16)
print(int_pub)

for i in zero_and_one[::1]:
    if i == "0":
        G_x = (G_x + G_x) % forpub
    else:
        G_x = (G_x * G_x) % forpub

    print(f"before k>>=1 {G_x}")
    # G_x >>= 1

# Gx = (G_x_zero + G_x_one) % N

print(f"after k>>=1 {G_x}")
print(forpub - 5847157906035119088962999902611481864022284396670216518963022287598366391390691106072064048998029019026317355141248715285923362246919367970245791856066560)

# ma = 13407807929942597099574024998205846127479365820592393377723561443721764030073546976801874298166903427690031858186486050853753882811946569946433649006084095

# while gx2 <= ma:
#     gx2 *= 2

# print(gx2)

"""
გამრავლებას ვაკეეთებს მარტო
-- სცადე დამატება, ოღონდ ისე რომ იტერაციაში დაიმახსოვრო ...

ანუ:
-- მაგალითად გვაქ "100100" უნდა შევამოწმო 
-- 1 რამდენჯერაც არის იმდენჯერ გაამრავლე
-- და 0 რამდენჯერაც არის იმდენი დამატება გააკეთე
-- ბოლოს შეაჯამე და გატესტე "int_pub" value. 
"""
